{"ast":null,"code":"import _objectSpread from\"/Users/drwin/Downloads/Websites/Frontend/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/drwin/Downloads/Websites/Frontend/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/drwin/Downloads/Websites/Frontend/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/drwin/Downloads/Websites/Frontend/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _taggedTemplateLiteral from\"/Users/drwin/Downloads/Websites/Frontend/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_templateObject6,_templateObject7,_templateObject8,_templateObject9,_templateObject10,_templateObject11,_templateObject12,_templateObject13,_templateObject14,_templateObject15,_templateObject16,_templateObject17,_templateObject18;import{Add,Remove}from\"@material-ui/icons\";import styled from\"styled-components\";import Announcement from\"../components/Announcement\";import Footer from\"../components/Footer\";import Navbar from\"../components/Navbar\";import Newsletter from\"../components/Newsletter\";import{mobile}from\"../responsive\";import{useLocation}from\"react-router-dom\";import{useEffect,useState}from\"react\";import{publicRequest}from\"../requestMethods\";import{addProduct}from\"../redux/cartRedux\";import{useDispatch}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\"])));var Wrapper=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  padding: 50px;\\n  display: flex;\\n  \",\"\\n\"])),mobile({padding:\"10px\",flexDirection:\"column\"}));var ImgContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  flex: 1;\\n\"])));var Image=styled.img(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 90vh;\\n  object-fit: cover;\\n  \",\"\\n\"])),mobile({height:\"40vh\"}));var InfoContainer=styled.div(_templateObject5||(_templateObject5=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding: 0px 50px;\\n  \",\"\\n\"])),mobile({padding:\"10px\"}));var Title=styled.h1(_templateObject6||(_templateObject6=_taggedTemplateLiteral([\"\\n  font-weight: 200;\\n\"])));var Desc=styled.p(_templateObject7||(_templateObject7=_taggedTemplateLiteral([\"\\n  margin: 20px 0px;\\n\"])));var Price=styled.span(_templateObject8||(_templateObject8=_taggedTemplateLiteral([\"\\n  font-weight: 100;\\n  font-size: 40px;\\n\"])));var FilterContainer=styled.div(_templateObject9||(_templateObject9=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  margin: 30px 0px;\\n  display: flex;\\n  justify-content: space-between;\\n  \",\"\\n\"])),mobile({width:\"100%\"}));var Filter=styled.div(_templateObject10||(_templateObject10=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n\"])));var FilterTitle=styled.span(_templateObject11||(_templateObject11=_taggedTemplateLiteral([\"\\n  font-size: 20px;\\n  font-weight: 200;\\n\"])));var FilterColor=styled.div(_templateObject12||(_templateObject12=_taggedTemplateLiteral([\"\\n  width: 20px;\\n  height: 20px;\\n  border-radius: 50%;\\n  background-color: \",\";\\n  margin: 0px 5px;\\n  cursor: pointer;\\n\"])),function(props){return props.color;});var FilterSize=styled.select(_templateObject13||(_templateObject13=_taggedTemplateLiteral([\"\\n  margin-left: 10px;\\n  padding: 5px;\\n\"])));var FilterSizeOption=styled.option(_templateObject14||(_templateObject14=_taggedTemplateLiteral([\"\"])));var AddContainer=styled.div(_templateObject15||(_templateObject15=_taggedTemplateLiteral([\"\\n  width: 50%;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  \",\"\\n\"])),mobile({width:\"100%\"}));var AmountContainer=styled.div(_templateObject16||(_templateObject16=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: center;\\n  font-weight: 700;\\n\"])));var Amount=styled.span(_templateObject17||(_templateObject17=_taggedTemplateLiteral([\"\\n  width: 30px;\\n  height: 30px;\\n  border-radius: 10px;\\n  border: 1px solid teal;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  margin: 0px 5px;\\n\"])));var Button=styled.button(_templateObject18||(_templateObject18=_taggedTemplateLiteral([\"\\n  padding: 15px;\\n  border: 2px solid teal;\\n  background-color: white;\\n  cursor: pointer;\\n  font-weight: 500;\\n\\n  &:hover {\\n    background-color: #f8f4f4;\\n  }\\n\"])));var Product=function Product(){var _product$color,_product$size;var location=useLocation();var id=location.pathname.split(\"/\")[2];var _useState=useState({}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),quantity=_useState4[0],setQuantity=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),color=_useState6[0],setColor=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),size=_useState8[0],setSize=_useState8[1];var dispatch=useDispatch();useEffect(function(){var getProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var res;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return publicRequest.get(\"/products/find/\"+id);case 3:res=_context.sent;setProduct(res.data);_context.next=9;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getProduct(){return _ref.apply(this,arguments);};}();getProduct();},[id]);var handleQuantity=function handleQuantity(type){if(type===\"dec\"){quantity>1&&setQuantity(quantity-1);}else{setQuantity(quantity+1);}};var handleClick=function handleClick(){dispatch(addProduct(_objectSpread(_objectSpread({},product),{},{quantity:quantity,color:color,size:size})));};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(Announcement,{}),/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(ImgContainer,{children:/*#__PURE__*/_jsx(Image,{src:product.img})}),/*#__PURE__*/_jsxs(InfoContainer,{children:[/*#__PURE__*/_jsx(Title,{children:product.title}),/*#__PURE__*/_jsx(Desc,{children:product.desc}),/*#__PURE__*/_jsxs(Price,{children:[\"$ \",product.price]}),/*#__PURE__*/_jsxs(FilterContainer,{children:[/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(FilterTitle,{children:\"Color\"}),(_product$color=product.color)===null||_product$color===void 0?void 0:_product$color.map(function(c){return/*#__PURE__*/_jsx(FilterColor,{color:c,onClick:function onClick(){return setColor(c);}},c);})]}),/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(FilterTitle,{children:\"Size\"}),/*#__PURE__*/_jsx(FilterSize,{onChange:function onChange(e){return setSize(e.target.value);},children:(_product$size=product.size)===null||_product$size===void 0?void 0:_product$size.map(function(s){return/*#__PURE__*/_jsx(FilterSizeOption,{children:s},s);})})]})]}),/*#__PURE__*/_jsxs(AddContainer,{children:[/*#__PURE__*/_jsxs(AmountContainer,{children:[/*#__PURE__*/_jsx(Remove,{onClick:function onClick(){return handleQuantity(\"dec\");}}),/*#__PURE__*/_jsx(Amount,{children:quantity}),/*#__PURE__*/_jsx(Add,{onClick:function onClick(){return handleQuantity(\"inc\");}})]}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,children:\"ADD TO CART\"})]})]})]}),/*#__PURE__*/_jsx(Newsletter,{}),/*#__PURE__*/_jsx(Footer,{})]});};export default Product;","map":{"version":3,"names":["Add","Remove","styled","Announcement","Footer","Navbar","Newsletter","mobile","useLocation","useEffect","useState","publicRequest","addProduct","useDispatch","Container","div","Wrapper","padding","flexDirection","ImgContainer","Image","img","height","InfoContainer","Title","h1","Desc","p","Price","span","FilterContainer","width","Filter","FilterTitle","FilterColor","props","color","FilterSize","select","FilterSizeOption","option","AddContainer","AmountContainer","Amount","Button","button","Product","location","id","pathname","split","product","setProduct","quantity","setQuantity","setColor","size","setSize","dispatch","getProduct","get","res","data","handleQuantity","type","handleClick","title","desc","price","map","c","e","target","value","s"],"sources":["/Users/drwin/Downloads/Websites/Frontend/client/src/pages/Product.jsx"],"sourcesContent":["import { Add, Remove } from \"@material-ui/icons\";\nimport styled from \"styled-components\";\nimport Announcement from \"../components/Announcement\";\nimport Footer from \"../components/Footer\";\nimport Navbar from \"../components/Navbar\";\nimport Newsletter from \"../components/Newsletter\";\nimport { mobile } from \"../responsive\";\nimport { useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { publicRequest } from \"../requestMethods\";\nimport { addProduct } from \"../redux/cartRedux\";\nimport { useDispatch } from \"react-redux\";\n\nconst Container = styled.div``;\n\nconst Wrapper = styled.div`\n  padding: 50px;\n  display: flex;\n  ${mobile({ padding: \"10px\", flexDirection: \"column\" })}\n`;\n\nconst ImgContainer = styled.div`\n  flex: 1;\n`;\n\nconst Image = styled.img`\n  width: 100%;\n  height: 90vh;\n  object-fit: cover;\n  ${mobile({ height: \"40vh\" })}\n`;\n\nconst InfoContainer = styled.div`\n  flex: 1;\n  padding: 0px 50px;\n  ${mobile({ padding: \"10px\" })}\n`;\n\nconst Title = styled.h1`\n  font-weight: 200;\n`;\n\nconst Desc = styled.p`\n  margin: 20px 0px;\n`;\n\nconst Price = styled.span`\n  font-weight: 100;\n  font-size: 40px;\n`;\n\nconst FilterContainer = styled.div`\n  width: 50%;\n  margin: 30px 0px;\n  display: flex;\n  justify-content: space-between;\n  ${mobile({ width: \"100%\" })}\n`;\n\nconst Filter = styled.div`\n  display: flex;\n  align-items: center;\n`;\n\nconst FilterTitle = styled.span`\n  font-size: 20px;\n  font-weight: 200;\n`;\n\nconst FilterColor = styled.div`\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: ${(props) => props.color};\n  margin: 0px 5px;\n  cursor: pointer;\n`;\n\nconst FilterSize = styled.select`\n  margin-left: 10px;\n  padding: 5px;\n`;\n\nconst FilterSizeOption = styled.option``;\n\nconst AddContainer = styled.div`\n  width: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  ${mobile({ width: \"100%\" })}\n`;\n\nconst AmountContainer = styled.div`\n  display: flex;\n  align-items: center;\n  font-weight: 700;\n`;\n\nconst Amount = styled.span`\n  width: 30px;\n  height: 30px;\n  border-radius: 10px;\n  border: 1px solid teal;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0px 5px;\n`;\n\nconst Button = styled.button`\n  padding: 15px;\n  border: 2px solid teal;\n  background-color: white;\n  cursor: pointer;\n  font-weight: 500;\n\n  &:hover {\n    background-color: #f8f4f4;\n  }\n`;\n\nconst Product = () => {\n  const location = useLocation();\n  const id = location.pathname.split(\"/\")[2];\n  const [product, setProduct] = useState({});\n  const [quantity, setQuantity] = useState(1);\n  const [color, setColor] = useState(\"\");\n  const [size, setSize] = useState(\"\");\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    const getProduct = async () => {\n      try {\n        const res = await publicRequest.get(\"/products/find/\" + id);\n        setProduct(res.data);\n      } catch {}\n    };\n    getProduct();\n  }, [id]);\n  \n\n  const handleQuantity = (type) => {\n    if (type === \"dec\") {\n      quantity > 1 && setQuantity(quantity - 1);\n    } else {\n      setQuantity(quantity + 1);\n    }\n  };\n\n  const handleClick = () => {\n    dispatch(\n      addProduct({ ...product, quantity, color, size })\n    );\n  };\n  return (\n    <Container>\n      <Navbar />\n      <Announcement />\n      <Wrapper>\n        <ImgContainer>\n          <Image src={product.img} />\n        </ImgContainer>\n        <InfoContainer>\n          <Title>{product.title}</Title>\n          <Desc>{product.desc}</Desc>\n          <Price>$ {product.price}</Price>\n          <FilterContainer>\n            <Filter>\n              <FilterTitle>Color</FilterTitle>\n              {product.color?.map((c) => (\n                <FilterColor color={c} key={c} onClick={() => setColor(c)} />\n              ))}\n            </Filter>\n            <Filter>\n              <FilterTitle>Size</FilterTitle>\n              <FilterSize onChange={(e) => setSize(e.target.value)}>\n                {product.size?.map((s) => (\n                  <FilterSizeOption key={s}>{s}</FilterSizeOption>\n                ))}\n              </FilterSize>\n            </Filter>\n          </FilterContainer>\n          <AddContainer>\n            <AmountContainer>\n              <Remove onClick={() => handleQuantity(\"dec\")} />\n              <Amount>{quantity}</Amount>\n              <Add onClick={() => handleQuantity(\"inc\")} />\n            </AmountContainer>\n            <Button onClick={handleClick}>ADD TO CART</Button>\n          </AddContainer>\n        </InfoContainer>\n      </Wrapper>\n      <Newsletter />\n      <Footer />\n    </Container>\n  );\n};\n\nexport default Product;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}